{% extends 'base.html' %}

{% block title %}Lista Tranzacțiilor{% endblock %}

{% block content %}
  <div class="container">
    <h2 class="mb-4">Tranzacții existente</h2>

    <a href="{% url 'transaction_create' %}" class="btn btn-primary mb-3">Adaugă tranzacție nouă</a>

    <ul class="list-group">
      {% for txn in transactions %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ txn.amount }} RON</strong> - {{ txn.category.name }} - {{ txn.date }}
            {% if txn.description %}
              <br><small class="text-muted">{{ txn.description }}</small>
            {% endif %}
          </div>

          <div class="dropend">
            <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton{{ txn.pk }}" data-bs-toggle="dropdown" aria-expanded="false">
              Acțiuni
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton{{ txn.pk }}">
              <li><a class="dropdown-item" href="{% url 'transaction_detail' txn.pk %}">Detalii</a></li>
              <li><a class="dropdown-item" href="{% url 'transaction_update' txn.pk %}">Editează</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item text-danger" href="{% url 'transaction_delete' txn.pk %}">Șterge</a></li>
            </ul>
          </div>
        </li>
      {% empty %}
        <li class="list-group-item">Nu există tranzacții înregistrate.</li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
